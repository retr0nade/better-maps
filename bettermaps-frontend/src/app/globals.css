@import "tailwindcss";
@plugin "@tailwindcss/typography";

:root {
  --background: #ffffff;
  --foreground: #171717;
  /* Typography tokens */
  --color-heading: #0f1724; /* very dark */
  --color-body: #334155;    /* slate-700-ish */
  --color-muted: #64748b;   /* slate-500-ish */

  /* Brand tokens */
  --color-brand-500: #1D4ED8; /* primary */
  --color-brand-600: #1E40AF; /* hover */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    /* Dark mode text tokens tuned for WCAG AA */
    --color-heading: #ffffff;
    --color-body: #e5e7eb;  /* zinc-200 */
    --color-muted: #cbd5e1; /* slate-300 */
  }
}

body {
  background: var(--background);
  color: var(--color-body);
  font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* ---- Project custom utilities (migrated from styles/globals.css) ---- */

/* Leaflet container baseline */
.leaflet-container {
  height: 100%;
  width: 100%;
  z-index: 1;
}

/* Smooth transitions */
.transition-smooth {
  transition: all 0.3s ease-in-out;
}

/* Buttons */
.btn-primary {
  @apply inline-flex items-center justify-center rounded-lg px-6 py-3 text-white font-semibold shadow-lg transition-colors duration-200;
  background-color: var(--color-brand-500);
  box-shadow: 0 10px 15px -3px color-mix(in oklab, var(--color-brand-500) 30%, transparent), 0 4px 6px -4px color-mix(in oklab, var(--color-brand-500) 40%, transparent);
}
.btn-primary:hover {
  background-color: var(--color-brand-600);
}
.btn-secondary {
  @apply inline-flex items-center justify-center rounded-lg bg-white px-6 py-3 font-semibold ring-1 transition-colors duration-200;
  color: var(--color-brand-600);
  --ring-color: color-mix(in oklab, var(--color-brand-500) 30%, transparent);
  --ring-color-hover: color-mix(in oklab, var(--color-brand-500) 50%, transparent);
  box-shadow: 0 0 0 1px var(--ring-color) inset;
}
.btn-secondary:hover { box-shadow: 0 0 0 1px var(--ring-color-hover) inset; background-color: color-mix(in oklab, var(--color-brand-500) 6%, white); }
.btn-success {
  @apply inline-flex items-center justify-center rounded-md bg-green-600 px-4 py-2 text-white font-semibold shadow hover:bg-green-700 transition-colors duration-200;
}
.btn-danger {
  @apply inline-flex items-center justify-center rounded-md bg-red-600 px-3 py-2 text-white font-semibold shadow hover:bg-red-700 transition-colors duration-200;
}

/* Inputs */
.input-field {
  @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

/* Cards */
.card { @apply bg-white rounded-lg shadow-md p-6; }
.card-header { @apply border-b border-gray-200 pb-4 mb-4; }

/* Status helpers */
.status-success { @apply bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded; }
.status-error { @apply bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded; }
.status-warning { @apply bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded; }
.status-info { @apply bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded; }

/* ---- Typography helpers ---- */
.text-heading { color: var(--color-heading); }
.text-body { color: var(--color-body); }
.text-muted { color: var(--color-muted); }

h1, h2, h3, h4 { color: var(--color-heading); }
h1, h2 { font-weight: 800; }
h3, h4 { font-weight: 700; }
